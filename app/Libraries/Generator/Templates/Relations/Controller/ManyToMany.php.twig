/**
* @author {{ author }}
*
* @param $id
* @param $id{{ relationCapitalize }}
*
* @return mixed
*
* @apiGroup {{ tableNameCapitalizes }}
* @apiName store{{ relationCapitalize }}
* @api      {post} /{{ tableName }}/:id/{{ relation }}/:id{{ relationCapitalize }} Add a {{ relation }} to a {{ modelNameLowerCase }}
*
* @apiUse ApiNotFound
* @apiUse NotAuthorized
*
* @apiParam {Number} id {{ modelName }} unique ID.
* @apiParam {Number} id{{ relationCapitalize }} {{ relationCapitalize }} unique ID.
* @apiSuccess (201) {Number} id Id.
* @apiSuccess (201) {datetime} created_at Creation date.
* @apiSuccess (201) {datetime} updated_at Last Update date.
{{ outputModelAttributeApiUpdate }}
*/
public function {{ relation }}Store($id, $id{{ relationCapitalize }})
{
    $this->addUserCriteria();
    $model = $this->repository->find($id);
    ${{ relation }}Repository = \App::make(\App\Libraries\Repositories\{{ relationCapitalize }}::class);
    ${{ relation }} = ${{ relation }}Repository->find($id{{ relationCapitalize }});

    if (is_null($model) || is_null(${{ relation }})) {
    return response()->json([], 404);
    }

    $this->repository->add{{ relationCapitalize }}($model, ${{ relation }});

    return response()->json($model, 202);
}

/**
* @author {{ author }}
*
* @param $id
* @param $id{{ relationCapitalize }}
*
* @return mixed
*
* @apiGroup {{ tableNameCapitalizes }}
* @apiName destroy{{ relationCapitalize }}
* @api      {delete} /{{ tableName }}/:id/{{ relation }}/:id{{ relationCapitalize }} Remove a {{ relation }} from a {{ modelNameLowerCase }}
*
* @apiUse ApiNotFound
* @apiUse NotAuthorized
*
* @apiParam {Number} id {{ modelName }} unique ID.
* @apiParam {Number} id{{ relationCapitalize }} {{ relationCapitalize }} unique ID.
* @apiSuccess (201) {Number} id Id.
* @apiSuccess (201) {datetime} created_at Creation date.
* @apiSuccess (201) {datetime} updated_at Last Update date.
{{ outputModelAttributeApiUpdate }}
*/
public function {{ relation }}Destroy($id, $id{{ relationCapitalize }})
{
    $this->addUserCriteria();
    $model = $this->repository->find($id);
    ${{ relation }}Repository = \App::make(\App\Libraries\Repositories\{{ relationCapitalize }}::class);
    ${{ relation }} = ${{ relation }}Repository->find($id{{ relationCapitalize }});

    if (is_null($model) || is_null(${{ relation }})) {
    return response()->json([], 404);
    }

    $this->repository->remove{{ relationCapitalize }}($model, ${{ relation }});

    return response()->json($model, 202);
}
